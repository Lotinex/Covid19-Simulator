(()=>{"use strict";var t={572:(t,e,r)=>{function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function n(t,e,r){var n=r.value;if("function"!=typeof n)throw new TypeError("@boundMethod decorator can only be applied to methods not: ".concat(o(n)));var i=!1;return{configurable:!0,get:function(){if(i||this===t.prototype||this.hasOwnProperty(e)||"function"!=typeof n)return n;var r=n.bind(this);return i=!0,Object.defineProperty(this,e,{configurable:!0,get:function(){return r},set:function(t){n=t,delete this[e]}}),i=!1,r},set:function(t){n=t}}}function i(t){var e;return"undefined"!=typeof Reflect&&"function"==typeof Reflect.ownKeys?e=Reflect.ownKeys(t.prototype):(e=Object.getOwnPropertyNames(t.prototype),"function"==typeof Object.getOwnPropertySymbols&&(e=e.concat(Object.getOwnPropertySymbols(t.prototype)))),e.forEach((function(e){if("constructor"!==e){var r=Object.getOwnPropertyDescriptor(t.prototype,e);"function"==typeof r.value&&Object.defineProperty(t.prototype,e,n(t,e,r))}})),t}function a(){return 1===arguments.length?i.apply(void 0,arguments):n.apply(void 0,arguments)}r.r(e),r.d(e,{boundMethod:()=>n,boundClass:()=>i,default:()=>a})},854:function(t,e,r){var o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const n=o(r(336)),i=o(r(129)),a=o(r(806));class s{static Entry(){i.default.loop((()=>{s.Stage.addEntity(new a.default({x:i.default.rand(100,1300),y:i.default.rand(100,700),radius:10}))}),10)}}e.default=s,s.Stage=new n.default({id:"stage"}),s.Entry()},336:function(t,e,r){var o=this&&this.__decorate||function(t,e,r,o){var n,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,r,o);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(a=(i<3?n(a):i>3?n(e,r,a):n(e,r))||a);return i>3&&a&&Object.defineProperty(e,r,a),a},n=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};Object.defineProperty(e,"__esModule",{value:!0});const i=r(572);let a=class{constructor(t){this.entities=[];const e=document.getElementById(t.id);e.width=(null==t?void 0:t.width)||window.innerWidth,e.height=(null==t?void 0:t.height)||window.innerHeight,this.ctx=e.getContext("2d"),requestAnimationFrame(this.frameLoop)}draw(t){const e=t.x||0,r=t.y||0,o=t.w||100,n=t.h||100;this.ctx.drawImage(t.img.img,e-o/2,r-n/2,o,n)}drawCircle(t){this.ctx.beginPath(),this.ctx.fillStyle=t.fill||"black",this.ctx.arc(t.x||0,t.y||0,t.radius,0,2*Math.PI),this.ctx.fill(),this.ctx.closePath()}addEntity(t){this.entities.push(t),t.setRenderer(this)}renderEntities(){this.clear();for(const t of this.entities)t.render()}update(){for(const t of this.entities)t.update()}clear(){this.ctx.clearRect(0,0,window.innerWidth,window.innerHeight)}frameLoop(){this.update(),this.renderEntities(),requestAnimationFrame(this.frameLoop)}};a=o([i.boundClass,n("design:paramtypes",[Object])],a),e.default=a},563:function(t,e,r){var o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const n=o(r(763));e.default=class{constructor(t){this.x=t.x||0,this.y=t.y||0,this.w=t.w||100,this.h=t.h||100}setRenderer(t){this.renderer=t}setTexture(t){this.texture=new n.default({source:t})}createUpdate(t){const e=t;t=function(r){e(r),requestAnimationFrame(t)},requestAnimationFrame(t)}move(t){t.x&&(this.x+=t.x),t.y&&(this.y+=t.y)}position(t){t.x&&(this.x=t.x),t.y&&(this.y=t.y)}update(){}render(){var t;null===(t=this.renderer)||void 0===t||t.draw({img:this.texture})}}},806:function(t,e,r){var o=this&&this.__decorate||function(t,e,r,o){var n,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,r,o);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(a=(i<3?n(a):i>3?n(e,r,a):n(e,r))||a);return i>3&&a&&Object.defineProperty(e,r,a),a},n=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const a=r(362),s=i(r(129)),u=r(572);let c=class extends a.PureCircle{constructor(t){super(t),this.AI=!0}update(){this.AI&&s.default.haveChance(100)&&s.default.createRandomCase({Up:()=>{s.default.animationLoop((t=>{this.move({y:-s.default.rand(5,10)*t})}),s.default.rand(100,300))},Down:()=>{s.default.animationLoop((t=>{this.move({y:s.default.rand(5,10)*t})}),s.default.rand(100,300))},Left:()=>{s.default.animationLoop((t=>{this.move({x:-s.default.rand(5,10)*t})}),s.default.rand(100,300))},Right:()=>{s.default.animationLoop((t=>{this.move({x:s.default.rand(5,10)*t})}),s.default.rand(100,300))}})}};c=o([u.boundClass,n("design:paramtypes",[Object])],c),e.default=c},362:function(t,e,r){var o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.PureCircle=void 0;const n=o(r(563));class i extends n.default{constructor(t){super(t),this.radius=t.radius,this.fill=t.fill||"black"}render(){var t;null===(t=this.renderer)||void 0===t||t.drawCircle({x:this.x,y:this.y,radius:this.radius,fill:this.fill})}}e.PureCircle=i},763:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.default=class{constructor(t){this.img=new Image,this.img.src=t.source}}},129:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0});class r{static rand(t,e){return Math.floor(Math.random()*(e-t+1)+t)}static loop(t,e){for(let r=0;r<e;r++)t(r)}static go(...t){return e=>{t.reduce(((t,e)=>e(t)),e)}}static haveChance(t){return 1==r.rand(1,t)}static toRadian(t){return t*Math.PI/180}static toDegree(t){return 180*t/Math.PI}static animationLoop(t,e){return new Promise((r=>{let o=0;const n=i=>{0==o&&(o=i);const a=i-o;if(a>=e)return r();t(a/e),requestAnimationFrame(n)};requestAnimationFrame(n)}))}static createRandomCase(t){const e=r.rand(0,Object.keys(t).length-1);t[Object.keys(t)[e]]()}}e.default=r}},e={};function r(o){if(e[o])return e[o].exports;var n=e[o]={exports:{}};return t[o].call(n.exports,n,n.exports,r),n.exports}r.d=(t,e)=>{for(var o in e)r.o(e,o)&&!r.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:e[o]})},r.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),r.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r(854)})();
//# sourceMappingURL=main.js.map